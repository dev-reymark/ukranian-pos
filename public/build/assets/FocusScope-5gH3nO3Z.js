import{e as B,r as E,R as S}from"./app-CU-WO1ha.js";import{b as G}from"./useFocusable-CwbNjnte.js";import{o as H,f as w,s as g}from"./chunk-XHQUSKIE-DXaFXxBl.js";const U=Symbol.for("react-aria.i18n.locale"),q=Symbol.for("react-aria.i18n.strings");let y;class C{getStringForLocale(e,t){let o=this.getStringsForLocale(t)[e];if(!o)throw new Error(`Could not find intl message ${e} in ${t} locale`);return o}getStringsForLocale(e){let t=this.strings[e];return t||(t=Y(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[U];if(y===void 0){let o=window[q];if(!o)return null;y={};for(let a in o)y[a]=new C({[t]:o[a]},t)}let n=y==null?void 0:y[e];if(!n)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return n}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,n])=>n)),this.defaultLocale=t}}function Y(r,e,t="en-US"){if(e[r])return e[r];let n=J(r);if(e[n])return e[n];for(let o in e)if(o.startsWith(n+"-"))return e[o];return e[t]}function J(r){return Intl.Locale?new Intl.Locale(r).language:r.split("-")[0]}const K=new Map,I=new Map;class X{format(e,t){let n=this.strings.getStringForLocale(e,this.locale);return typeof n=="function"?n(t,this):n}plural(e,t,n="cardinal"){let o=t["="+e];if(o)return typeof o=="function"?o():o;let a=this.locale+":"+n,i=K.get(a);i||(i=new Intl.PluralRules(this.locale,{type:n}),K.set(a,i));let l=i.select(e);return o=t[l]||t.other,typeof o=="function"?o():o}number(e){let t=I.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),I.set(this.locale,t)),t.format(e)}select(e,t){let n=e[t]||e.other;return typeof n=="function"?n():n}constructor(e,t){this.locale=e,this.strings=t}}const P=new WeakMap;function Q(r){let e=P.get(r);return e||(e=new C(r),P.set(r,e)),e}function Z(r,e){return e&&C.getGlobalDictionaryForPackage(e)||Q(r)}function se(r,e){let{locale:t}=B(),n=Z(r,e);return E.useMemo(()=>new X(t,n),[t,n])}function j(r,e){let t=window.getComputedStyle(r),n=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return n&&e&&(n=r.scrollHeight!==r.clientHeight||r.scrollWidth!==r.clientWidth),n}function be(r,e){let t=r;for(j(t,e)&&(t=t.parentElement);t&&!j(t,e);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function O(r){const e=H(r);if(!(r instanceof e.HTMLElement)&&!(r instanceof e.SVGElement))return!1;let{display:t,visibility:n}=r.style,o=t!=="none"&&n!=="hidden"&&n!=="collapse";if(o){const{getComputedStyle:a}=r.ownerDocument.defaultView;let{display:i,visibility:l}=a(r);o=i!=="none"&&l!=="hidden"&&l!=="collapse"}return o}function ee(r,e){return!r.hasAttribute("hidden")&&!r.hasAttribute("data-react-aria-prevent-focus")&&(r.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?r.hasAttribute("open"):!0)}function V(r,e){return r.nodeName!=="#comment"&&O(r)&&ee(r,e)&&(!r.parentElement||V(r.parentElement,r))}const z=S.createContext(null);let f=null;function ve(r){let{children:e,contain:t,restoreFocus:n,autoFocus:o}=r,a=E.useRef(null),i=E.useRef(null),l=E.useRef([]),{parentNode:s}=E.useContext(z)||{},c=E.useMemo(()=>new _({scopeRef:l}),[l]);w(()=>{let v=s||$.root;if($.getTreeNode(v.scopeRef)&&f&&!F(f,v.scopeRef)){let b=$.getTreeNode(f);b&&(v=b)}v.addChild(c),$.addNode(c)},[c,s]),w(()=>{let v=$.getTreeNode(l);v&&(v.contain=!!t)},[t]),w(()=>{var v;let b=(v=a.current)===null||v===void 0?void 0:v.nextSibling,h=[];for(;b&&b!==i.current;)h.push(b),b=b.nextSibling;l.current=h},[e]),le(l,n,t),oe(l,t),ce(l,n,t),ae(l,o),E.useEffect(()=>{const v=g(l.current?l.current[0]:void 0).activeElement;let b=null;if(p(v,l.current)){for(let h of $.traverse())h.scopeRef&&p(v,h.scopeRef.current)&&(b=h);b===$.getTreeNode(l)&&(f=b.scopeRef)}},[l]),w(()=>()=>{var v,b,h;let M=(h=(b=$.getTreeNode(l))===null||b===void 0||(v=b.parent)===null||v===void 0?void 0:v.scopeRef)!==null&&h!==void 0?h:null;(l===f||F(l,f))&&(!M||$.getTreeNode(M))&&(f=M),$.removeTreeNode(l)},[l]);let u=E.useMemo(()=>te(l),[]),d=E.useMemo(()=>({focusManager:u,parentNode:c}),[c,u]);return S.createElement(z.Provider,{value:d},S.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),e,S.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:i}))}function te(r){return{focusNext(e={}){let t=r.current,{from:n,tabbable:o,wrap:a,accept:i}=e,l=n||g(t[0]).activeElement,s=t[0].previousElementSibling,c=T(t),u=N(c,{tabbable:o,accept:i},t);u.currentNode=p(l,t)?l:s;let d=u.nextNode();return!d&&a&&(u.currentNode=s,d=u.nextNode()),d&&m(d,!0),d},focusPrevious(e={}){let t=r.current,{from:n,tabbable:o,wrap:a,accept:i}=e,l=n||g(t[0]).activeElement,s=t[t.length-1].nextElementSibling,c=T(t),u=N(c,{tabbable:o,accept:i},t);u.currentNode=p(l,t)?l:s;let d=u.previousNode();return!d&&a&&(u.currentNode=s,d=u.previousNode()),d&&m(d,!0),d},focusFirst(e={}){let t=r.current,{tabbable:n,accept:o}=e,a=T(t),i=N(a,{tabbable:n,accept:o},t);i.currentNode=t[0].previousElementSibling;let l=i.nextNode();return l&&m(l,!0),l},focusLast(e={}){let t=r.current,{tabbable:n,accept:o}=e,a=T(t),i=N(a,{tabbable:n,accept:o},t);i.currentNode=t[t.length-1].nextElementSibling;let l=i.previousNode();return l&&m(l,!0),l}}}const A=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],re=A.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";A.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const ne=A.join(':not([hidden]):not([tabindex="-1"]),');function T(r){return r[0].parentElement}function x(r){let e=$.getTreeNode(f);for(;e&&e.scopeRef!==r;){if(e.contain)return!1;e=e.parent}return!0}function oe(r,e){let t=E.useRef(),n=E.useRef();w(()=>{let o=r.current;if(!e){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const a=g(o?o[0]:void 0);let i=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!x(r)||c.isComposing)return;let u=a.activeElement,d=r.current;if(!d||!p(u,d))return;let v=T(d),b=N(v,{tabbable:!0},d);if(!u)return;b.currentNode=u;let h=c.shiftKey?b.previousNode():b.nextNode();h||(b.currentNode=c.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,h=c.shiftKey?b.previousNode():b.nextNode()),c.preventDefault(),h&&m(h,!0)},l=c=>{(!f||F(f,r))&&p(c.target,r.current)?(f=r,t.current=c.target):x(r)&&!L(c.target,r)?t.current?t.current.focus():f&&f.current&&R(f.current):x(r)&&(t.current=c.target)},s=c=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(a.activeElement&&x(r)&&!L(a.activeElement,r))if(f=r,a.body.contains(c.target)){var u;t.current=c.target,(u=t.current)===null||u===void 0||u.focus()}else f.current&&R(f.current)})};return a.addEventListener("keydown",i,!1),a.addEventListener("focusin",l,!1),o==null||o.forEach(c=>c.addEventListener("focusin",l,!1)),o==null||o.forEach(c=>c.addEventListener("focusout",s,!1)),()=>{a.removeEventListener("keydown",i,!1),a.removeEventListener("focusin",l,!1),o==null||o.forEach(c=>c.removeEventListener("focusin",l,!1)),o==null||o.forEach(c=>c.removeEventListener("focusout",s,!1))}},[r,e]),w(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function W(r){return L(r)}function p(r,e){return!r||!e?!1:e.some(t=>t.contains(r))}function L(r,e=null){if(r instanceof Element&&r.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of $.traverse($.getTreeNode(e)))if(t&&p(r,t.current))return!0;return!1}function $e(r){return L(r,f)}function F(r,e){var t;let n=(t=$.getTreeNode(e))===null||t===void 0?void 0:t.parent;for(;n;){if(n.scopeRef===r)return!0;n=n.parent}return!1}function m(r,e=!1){if(r!=null&&!e)try{G(r)}catch{}else if(r!=null)try{r.focus()}catch{}}function R(r,e=!0){let t=r[0].previousElementSibling,n=T(r),o=N(n,{tabbable:e},r);o.currentNode=t;let a=o.nextNode();e&&!a&&(n=T(r),o=N(n,{tabbable:!1},r),o.currentNode=t,a=o.nextNode()),m(a)}function ae(r,e){const t=S.useRef(e);E.useEffect(()=>{if(t.current){f=r;const n=g(r.current?r.current[0]:void 0);!p(n.activeElement,f.current)&&r.current&&R(r.current)}t.current=!1},[r])}function le(r,e,t){w(()=>{if(e||t)return;let n=r.current;const o=g(n?n[0]:void 0);let a=i=>{let l=i.target;p(l,r.current)?f=r:W(l)||(f=null)};return o.addEventListener("focusin",a,!1),n==null||n.forEach(i=>i.addEventListener("focusin",a,!1)),()=>{o.removeEventListener("focusin",a,!1),n==null||n.forEach(i=>i.removeEventListener("focusin",a,!1))}},[r,e,t])}function ie(r){let e=$.getTreeNode(f);for(;e&&e.scopeRef!==r;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===r}function ce(r,e,t){const n=E.useRef(typeof document<"u"?g(r.current?r.current[0]:void 0).activeElement:null);w(()=>{let o=r.current;const a=g(o?o[0]:void 0);if(!e||t)return;let i=()=>{(!f||F(f,r))&&p(a.activeElement,r.current)&&(f=r)};return a.addEventListener("focusin",i,!1),o==null||o.forEach(l=>l.addEventListener("focusin",i,!1)),()=>{a.removeEventListener("focusin",i,!1),o==null||o.forEach(l=>l.removeEventListener("focusin",i,!1))}},[r,t]),w(()=>{const o=g(r.current?r.current[0]:void 0);if(!e)return;let a=i=>{if(i.key!=="Tab"||i.altKey||i.ctrlKey||i.metaKey||!x(r)||i.isComposing)return;let l=o.activeElement;if(!p(l,r.current))return;let s=$.getTreeNode(r);if(!s)return;let c=s.nodeToRestore,u=N(o.body,{tabbable:!0});u.currentNode=l;let d=i.shiftKey?u.previousNode():u.nextNode();if((!c||!o.body.contains(c)||c===o.body)&&(c=void 0,s.nodeToRestore=void 0),(!d||!p(d,r.current))&&c){u.currentNode=c;do d=i.shiftKey?u.previousNode():u.nextNode();while(p(d,r.current));i.preventDefault(),i.stopPropagation(),d?m(d,!0):W(c)?m(c,!0):l.blur()}};return t||o.addEventListener("keydown",a,!0),()=>{t||o.removeEventListener("keydown",a,!0)}},[r,e,t]),w(()=>{const o=g(r.current?r.current[0]:void 0);if(!e)return;let a=$.getTreeNode(r);if(a){var i;return a.nodeToRestore=(i=n.current)!==null&&i!==void 0?i:void 0,()=>{let l=$.getTreeNode(r);if(!l)return;let s=l.nodeToRestore;if(e&&s&&(p(o.activeElement,r.current)||o.activeElement===o.body&&ie(r))){let c=$.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let u=c.getTreeNode(r);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){m(u.nodeToRestore);return}u=u.parent}for(u=c.getTreeNode(r);u;){if(u.scopeRef&&u.scopeRef.current&&$.getTreeNode(u.scopeRef)){R(u.scopeRef.current,!0);return}u=u.parent}}})}}}},[r,e])}function N(r,e,t){let n=e!=null&&e.tabbable?ne:re,o=g(r).createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var i;return!(e==null||(i=e.from)===null||i===void 0)&&i.contains(a)?NodeFilter.FILTER_REJECT:a.matches(n)&&V(a)&&(!t||p(a,t))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(o.currentNode=e.from),o}function pe(r,e={}){return{focusNext(t={}){let n=r.current;if(!n)return null;let{from:o,tabbable:a=e.tabbable,wrap:i=e.wrap,accept:l=e.accept}=t,s=o||g(n).activeElement,c=N(n,{tabbable:a,accept:l});n.contains(s)&&(c.currentNode=s);let u=c.nextNode();return!u&&i&&(c.currentNode=n,u=c.nextNode()),u&&m(u,!0),u},focusPrevious(t=e){let n=r.current;if(!n)return null;let{from:o,tabbable:a=e.tabbable,wrap:i=e.wrap,accept:l=e.accept}=t,s=o||g(n).activeElement,c=N(n,{tabbable:a,accept:l});if(n.contains(s))c.currentNode=s;else{let d=k(c);return d&&m(d,!0),d??null}let u=c.previousNode();if(!u&&i){c.currentNode=n;let d=k(c);if(!d)return null;u=d}return u&&m(u,!0),u??null},focusFirst(t=e){let n=r.current;if(!n)return null;let{tabbable:o=e.tabbable,accept:a=e.accept}=t,l=N(n,{tabbable:o,accept:a}).nextNode();return l&&m(l,!0),l},focusLast(t=e){let n=r.current;if(!n)return null;let{tabbable:o=e.tabbable,accept:a=e.accept}=t,i=N(n,{tabbable:o,accept:a}),l=k(i);return l&&m(l,!0),l??null}}}function k(r){let e,t;do t=r.lastChild(),t&&(e=t);while(t);return e}class D{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let o=this.fastMap.get(t??null);if(!o)return;let a=new _({scopeRef:e});o.addChild(a),a.parent=o,this.fastMap.set(e,a),n&&(a.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let a of this.traverse())a!==t&&t.nodeToRestore&&a.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&p(a.nodeToRestore,t.scopeRef.current)&&(a.nodeToRestore=t.nodeToRestore);let o=t.children;n&&(n.removeChild(t),o.size>0&&o.forEach(a=>n&&n.addChild(a))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new D;var n;for(let o of this.traverse())t.addTreeNode(o.scopeRef,(n=(e=o.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&n!==void 0?n:null,o.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new _({scopeRef:null}),this.fastMap.set(null,this.root)}}class _{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let $=new D;export{se as $,be as a,pe as b,N as c,Z as d,C as e,X as f,j as g,$e as h,ve as i};
