import{r as s}from"./app-C7tOZ9mb.js";function u(i,e){const t=s.useRef(!0),r=s.useRef(null);s.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),s.useEffect(()=>{t.current?t.current=!1:(!r.current||e.some((n,c)=>!Object.is(n,r[c])))&&i(),r.current=e},e)}const a=7e3;let o=null;function h(i,e="assertive",t=a){o||(o=new l),o.announce(i,e,t)}function p(i){o&&o.clear(i)}class l{createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",r=a){if(!this.node)return;let n=document.createElement("div");n.textContent=e,t==="assertive"?this.assertiveLog.appendChild(n):this.politeLog.appendChild(n),e!==""&&setTimeout(()=>{n.remove()},r)}clear(e){this.node&&((!e||e==="assertive")&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}export{u as $,h as a,p as b};
