import{$ as X,r as l,t as Z,e as ee,g as A,u as se,m as ae,h as te,i as re,o as le,k as oe,l as T,f as ie,j as e,Y as ne,c as ce,a as de,b as ue,d as me}from"./app-DJ0OCxwK.js";import{A as fe,a as pe}from"./index-EUbz-fhy.js";import xe from"./ApplicationLogo-ynUf4uBI.js";import{EyeSlashFilledIcon as be,EyeFilledIcon as ve}from"./Icon-C3UHRYlP.js";import{u as ge}from"./index-2TX6XvHX.js";import{m as he,a as je,b as ye,c as Ne,d as Pe}from"./chunk-P2T5LMDM-BSwoEP5i.js";import{c as we}from"./chunk-4WFLSIHH-DHr-3Ab-.js";import{u as $e}from"./index-B3MhTQ63.js";import{$ as Ce,a as _e}from"./NumberFormatter-DgUnyrzU.js";import{$ as ke}from"./useLabel-BEN_EtuV.js";import{d as B}from"./chunk-44JHHBS2-CWPKxyw1.js";import{s as D}from"./chunk-IXXDDLGU-C927SSi6.js";import{i as W}from"./chunk-GQQM5TNQ-P53s9ApC.js";import{c as Ie}from"./chunk-JHUBASYZ-BiB9buEj.js";import{b as Ve}from"./chunk-DBLREEYE-C6Vwu_wX.js";import"./iconBase-BN3XEKHS.js";import"./useControlledState-DF6__fTM.js";import"./index-3GMhIGNj.js";import"./useLabels-C7uuHIf4.js";import"./getScrollParent-CTiUb1E9.js";import"./FocusScope-C3BCnoq3.js";import"./VisuallyHidden-D0N98OxW.js";import"./chunk-2PIR7DFM-CbcDDgM_.js";import"./chunk-M3MASYO7-CeYIKs2S.js";import"./chunk-CAFRINWI-BTDo8zfp.js";import"./useFormValidationState-cOo1klYh.js";import"./useFormReset-Dic5pjzl.js";function Le(a={}){let{locale:r}=X();return l.useMemo(()=>new Ce(r,a),[r,a])}var F=Z({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]});function Se(a){let{value:r=0,minValue:o=0,maxValue:c=100,valueLabel:t,isIndeterminate:i,formatOptions:u={style:"percent"}}=a,g=ee(a,{labelable:!0}),{labelProps:p,fieldProps:x}=ke({...a,labelElementType:"span"});r=_e(r,o,c);let b=(r-o)/(c-o),s=Le(u);if(!i&&!t){let d=u.style==="percent"?b:r;t=s.format(d)}return{progressBarProps:A(g,{...x,"aria-valuenow":i?void 0:r,"aria-valuemin":o,"aria-valuemax":c,"aria-valuetext":i?void 0:t,role:"progressbar"}),labelProps:p}}function De(a){var r,o,c;const t=se(),[i,u]=ae(a,F.variantKeys),{ref:g,as:p,id:x,className:b,classNames:s,label:d,valueLabel:$,value:h=void 0,minValue:N=0,maxValue:P=100,strokeWidth:_,showValueLabel:k=!1,formatOptions:I={style:"percent"},...n}=i,j=p||"div",V=te(g),O=re(s==null?void 0:s.base,b),[,U]=$e({rerender:!0,delay:100}),y=((r=a.isIndeterminate)!=null?r:!0)&&h===void 0,L=(c=(o=a.disableAnimation)!=null?o:t==null?void 0:t.disableAnimation)!=null?c:!1,{progressBarProps:E,labelProps:M}=Se({id:x,label:d,value:h,minValue:N,maxValue:P,valueLabel:$,formatOptions:I,isIndeterminate:y,"aria-labelledby":a["aria-labelledby"],"aria-label":a["aria-label"]}),m=l.useMemo(()=>F({...u,disableAnimation:L,isIndeterminate:y}),[le(u),L,y]),z=L?!0:U,C=16,S=_||(a.size==="sm"?2:3),w=16-S,v=2*w*Math.PI,K=l.useMemo(()=>z?y?.25:h?oe((h-N)/(P-N),1):0:0,[z,h,N,P,y]),R=v-K*v,Y=l.useCallback((f={})=>({ref:V,"data-indeterminate":T(y),"data-disabled":T(a.isDisabled),className:m.base({class:O}),...A(E,n,f)}),[V,m,y,a.isDisabled,O,E,n]),G=l.useCallback((f={})=>({className:m.label({class:s==null?void 0:s.label}),...A(M,f)}),[m,s,M]),H=l.useCallback((f={})=>({viewBox:"0 0 32 32",fill:"none",strokeWidth:S,className:m.svg({class:s==null?void 0:s.svg}),...f}),[S,m,s]),J=l.useCallback((f={})=>({cx:C,cy:C,r:w,role:"presentation",strokeDasharray:`${v} ${v}`,strokeDashoffset:R,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:m.indicator({class:s==null?void 0:s.indicator}),...f}),[m,s,R,v,w]),Q=l.useCallback((f={})=>({cx:C,cy:C,r:w,role:"presentation",strokeDasharray:`${v} ${v}`,strokeDashoffset:0,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:m.track({class:s==null?void 0:s.track}),...f}),[m,s,v,w]);return{Component:j,domRef:V,slots:m,classNames:s,label:d,showValueLabel:k,getProgressBarProps:Y,getLabelProps:G,getSvgProps:H,getIndicatorProps:J,getTrackProps:Q}}var q=ie((a,r)=>{const{Component:o,slots:c,classNames:t,label:i,showValueLabel:u,getProgressBarProps:g,getLabelProps:p,getSvgProps:x,getIndicatorProps:b,getTrackProps:s}=De({ref:r,...a}),d=g();return e.jsxs(o,{...d,children:[e.jsxs("div",{className:c.svgWrapper({class:t==null?void 0:t.svgWrapper}),children:[e.jsxs("svg",{...x(),children:[e.jsx("circle",{...s()}),e.jsx("circle",{...b()})]}),u&&e.jsx("span",{className:c.value({class:t==null?void 0:t.value}),children:d["aria-valuetext"]})]}),i&&e.jsx("span",{...p(),children:i})]})});q.displayName="NextUI.CircularProgress";var Ae=q;function ns(){const[a,r]=l.useState(""),[o,c]=l.useState(""),[t,i]=l.useState(0),[u,g]=l.useState(!1),[p,x]=l.useState(""),[b,s]=l.useState(""),[d,$]=l.useState(!1),{isOpen:h,onOpen:N,onOpenChange:P}=ge(),_=()=>g(!u),k=()=>{let n=!0;return x(""),s(""),a.trim()===""&&(x("Invalid Cashier Number"),n=!1),o.trim()===""&&(s("Invalid Password"),n=!1),n},I=async n=>{if(n.preventDefault(),!!k()){N(),i(1),$(!1);try{await new Promise(j=>setTimeout(j,1e3)),i(2),await me.post("/",{Cashier_Number:a,Cashier_Psw:o}),i(3),setTimeout(()=>{window.location.href="/home"},1e3)}catch(j){c(""),i(0),$(!0),j.response&&j.response.data?s(j.response.data.error||"An error occurred"):s("An error occurred"),P(!1)}}};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{title:"Login"}),e.jsx("div",{className:"flex items-center justify-center min-h-screen p-3",children:e.jsxs(ce,{className:"max-w-md w-full",children:[e.jsxs(de,{className:"flex gap-3 justify-between",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(xe,{}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-md font-bold",children:"VENUS POS"}),e.jsx("p",{className:"text-small font-semibold text-default-500",children:"Datalogic Systems Corporation"})]})]}),e.jsx(we,{radius:"sm",color:"warning",children:"Version 1.0"})]}),e.jsx(B,{}),e.jsx(D,{y:4}),e.jsx(ue,{className:"p-5",children:e.jsxs("form",{onSubmit:I,children:[e.jsx(W,{id:"Cashier_Number",value:a,onChange:n=>r(n.target.value),label:"Cashier Number",isRequired:!0,isInvalid:!!p,errorMessage:p}),e.jsx(D,{y:6}),e.jsx(W,{id:"Cashier_Psw",endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:_,"aria-label":"toggle password visibility",children:u?e.jsx(be,{className:"text-2xl text-default-400 pointer-events-none"}):e.jsx(ve,{className:"text-2xl text-default-400 pointer-events-none"})}),value:o,onChange:n=>c(n.target.value),label:"Password",type:u?"text":"password",isRequired:!0,isInvalid:!!b,errorMessage:b}),e.jsx(D,{y:4}),e.jsx(Ie,{className:"flex justify-end",children:e.jsx(Ve,{color:"primary",variant:"shadow",type:"submit",children:"Login"})})]})})]})}),e.jsx(he,{isOpen:h,onOpenChange:P,backdrop:"blur",size:"lg",children:e.jsx(je,{children:n=>e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"flex flex-col gap-1",children:"Logging In..."}),e.jsx(B,{}),e.jsxs(Ne,{className:"flex flex-col items-center mt-6",children:[t<3&&!d?e.jsx(Ae,{value:t/3*100,color:"primary",size:"lg",showValueLabel:!1,className:"mb-2"}):d?e.jsx(fe,{color:"red",size:40,className:"mb-2"}):e.jsx(pe,{color:"green",size:40,className:"mb-2"}),e.jsxs("p",{className:`mt-2 text-md font-extrabold ${d?"text-red-500":""}`,children:[t===1&&"Validating inputs...",t===2&&"Processing credentials...",t===3&&"Login successful! Redirecting...",d&&"Login failed. Please try again."]})]}),e.jsx(Pe,{})]})})})]})}export{ns as default};
