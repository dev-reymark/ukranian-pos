import{r,j as e,e as u}from"./app-CG3hSCCP.js";import{t as j,a as w}from"./chunk-FXLYF44B-C38Pb3mE.js";import{c as y}from"./chunk-H4VOEXHF-CGkO2XOs.js";import"./chunk-N2KXC5ZE-Bb84iJeV.js";import"./chunk-RQNQ5XFG-Dn3p-Hil.js";import"./chunk-XHQUSKIE-B4ClOMq7.js";import"./useLabels-DmjHiA4o.js";import"./useHasTabbableChild-CFh5_NKW.js";import"./FocusScope-CpJfrh8k.js";import"./useFocusable-DuzB0xKt.js";import"./chunk-RJKRL3AU-CjtrMR1U.js";import"./index-X92CTFGl.js";import"./SelectionManager-DkK4sEHF.js";import"./useControlledState-BgNZymqW.js";import"./chunk-6NL67ZRH-DnhZYCk-.js";import"./chunk-2PIR7DFM-CbcDDgM_.js";import"./useListState-DM8uU8-F.js";const f=({deliveryData:c,setSelectedRow:d,subtotal:p,transactionSaved:i,transactionSummary:l})=>{const[n,x]=r.useState(!1);r.useEffect(()=>{i&&x(!0)},[i]),r.useEffect(()=>{x(!1)},[c]);const s=Object.values(c).flat(),o=t=>{console.log("Row clicked:",t),d(t.Delivery_ID)},m=s.reduce((t,a)=>{const h=parseFloat(a.DiscountedAmount)||0;return t+h},0);return e.jsx(e.Fragment,{children:e.jsx(j,{"aria-label":"Sale Window",children:e.jsx(w,{title:"WINDOW 1",children:e.jsxs(y,{className:"p-2",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ITEM(S)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PRICE"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"VOLUME(L)"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AMOUNT(₱)"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-3 text-center text-xl font-extrabold",children:"No Transactions!"})}):s.map(t=>e.jsxs(u.Fragment,{children:[e.jsxs("tr",{onClick:()=>o(t),className:"hover:bg-gray-100 cursor-pointer",children:[e.jsxs("td",{className:"uppercase px-6 py-4 whitespace-nowrap",children:[t.Pump," -"," ",t.FuelGradeName]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.Price}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.Volume.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.OriginalAmount||t.Amount})]}),t.DiscountedAmount&&e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.PresetName}),e.jsx("td",{}),e.jsx("td",{}),e.jsxs("td",{children:["- (",t.DiscountedAmount,")"]})]})]},t.Delivery_ID))})]})}),n&&e.jsx("div",{className:"mt-4",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"sr-only",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-bold",children:"SUBTOTAL"}),e.jsxs("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-right font-bold",children:["₱",p]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-bold",children:"TOTAL DISCOUNT"}),e.jsxs("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-right font-bold",children:["₱",m.toFixed(2)]})]}),l.mopPayments.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-bold",children:t.mopName}),e.jsxs("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-right font-bold",children:["₱",t.amount.toFixed(2)]})]},a)),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-bold",children:"Change"}),e.jsxs("td",{colSpan:"5",className:"px-6 py-4 whitespace-nowrap text-right font-bold",children:["₱",l.change.toFixed(2)]})]})]})]})})]})},"window1")})})},L=f;export{L as default};
