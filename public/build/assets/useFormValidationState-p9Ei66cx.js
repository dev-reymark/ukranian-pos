import{ac as V,ab as T,au as U}from"./chunk-XHQUSKIE-CRTs_YlA.js";import{r as l}from"./app-CZL9chFl.js";var H=e=>(e==null?void 0:e.length)<=4?e:e==null?void 0:e.slice(0,3),J=(...e)=>{let a=" ";for(const t of e)if(typeof t=="string"&&t.length>0){a=t;break}return a},B={},L={};function K(e,a,...t){var r;const i=`[Next UI]${a?` [${a}]`:" "}: ${e}`;if(!(typeof console>"u")&&!L[i]&&(L[i]=!0,((r=process==null?void 0:B)==null?void 0:r.NODE_ENV)!=="production"))return console.warn(i,t)}function W(e,a,t){let r=l.useRef(a),u=V(()=>{t&&t(r.current)});l.useEffect(()=>{var i;let d=e==null||(i=e.current)===null||i===void 0?void 0:i.form;return d==null||d.addEventListener("reset",u),()=>{d==null||d.removeEventListener("reset",u)}},[e,u])}function X(e,a,t){let{validationBehavior:r,focus:u}=e;T(()=>{if(r==="native"&&(t!=null&&t.current)){let n=a.realtimeValidation.isInvalid?a.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";t.current.setCustomValidity(n),t.current.hasAttribute("title")||(t.current.title=""),a.realtimeValidation.isInvalid||a.updateValidation(k(t.current))}});let i=V(()=>{a.resetValidation()}),d=V(n=>{var o;a.displayValidation.isInvalid||a.commitValidation();let v=t==null||(o=t.current)===null||o===void 0?void 0:o.form;if(!n.defaultPrevented&&t&&v&&j(v)===t.current){var f;u?u():(f=t.current)===null||f===void 0||f.focus(),U("keyboard")}n.preventDefault()}),c=V(()=>{a.commitValidation()});l.useEffect(()=>{let n=t==null?void 0:t.current;if(!n)return;let o=n.form;return n.addEventListener("invalid",d),n.addEventListener("change",c),o==null||o.addEventListener("reset",i),()=>{n.removeEventListener("invalid",d),n.removeEventListener("change",c),o==null||o.removeEventListener("reset",i)}},[t,d,c,i,r])}function N(e){let a=e.validity;return{badInput:a.badInput,customError:a.customError,patternMismatch:a.patternMismatch,rangeOverflow:a.rangeOverflow,rangeUnderflow:a.rangeUnderflow,stepMismatch:a.stepMismatch,tooLong:a.tooLong,tooShort:a.tooShort,typeMismatch:a.typeMismatch,valueMissing:a.valueMissing,valid:a.valid}}function k(e){return{isInvalid:!e.validity.valid,validationDetails:N(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function j(e){for(let a=0;a<e.elements.length;a++){let t=e.elements[a];if(!t.validity.valid)return t}return null}const D={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},A={...D,customError:!0,valid:!1},m={isInvalid:!1,validationDetails:D,validationErrors:[]},F=l.createContext({}),x="__formValidationState"+Date.now();function Z(e){if(e[x]){let{realtimeValidation:a,displayValidation:t,updateValidation:r,resetValidation:u,commitValidation:i}=e[x];return{realtimeValidation:a,displayValidation:t,updateValidation:r,resetValidation:u,commitValidation:i}}return Q(e)}function Q(e){let{isInvalid:a,validationState:t,name:r,value:u,builtinValidation:i,validate:d,validationBehavior:c="aria"}=e;t&&(a||(a=t==="invalid"));let n=a!==void 0?{isInvalid:a,validationErrors:[],validationDetails:A}:null,o=l.useMemo(()=>w(q(d,u)),[d,u]);i!=null&&i.validationDetails.valid&&(i=null);let v=l.useContext(F),f=l.useMemo(()=>r?Array.isArray(r)?r.flatMap(s=>I(v[s])):I(v[r]):[],[v,r]),[C,_]=l.useState(v),[M,b]=l.useState(!1);v!==C&&(_(v),b(!1));let p=l.useMemo(()=>w(M?[]:f),[M,f]),S=l.useRef(m),[E,g]=l.useState(m),$=l.useRef(m),O=()=>{if(!R)return;y(!1);let s=o||i||S.current;h(s,$.current)||($.current=s,g(s))},[R,y]=l.useState(!1);return l.useEffect(O),{realtimeValidation:n||p||o||i||m,displayValidation:c==="native"?n||p||E:n||p||o||i||E,updateValidation(s){c==="aria"&&!h(E,s)?g(s):S.current=s},resetValidation(){let s=m;h(s,$.current)||($.current=s,g(s)),c==="native"&&y(!1),b(!0)},commitValidation(){c==="native"&&y(!0),b(!0)}}}function I(e){return e?Array.isArray(e)?e:[e]:[]}function q(e,a){if(typeof e=="function"){let t=e(a);if(t&&typeof t!="boolean")return I(t)}return[]}function w(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:A}:null}function h(e,a){return e===a?!0:e&&a&&e.isInvalid===a.isInvalid&&e.validationErrors.length===a.validationErrors.length&&e.validationErrors.every((t,r)=>t===a.validationErrors[r])&&Object.entries(e.validationDetails).every(([t,r])=>a.validationDetails[t]===r)}export{W as $,Z as a,X as b,m as c,x as d,J as e,H as s,K as w};
