import{i as C}from"./chunk-N2KXC5ZE-CE87_oYr.js";import{e as f,c as n}from"./chunk-XHQUSKIE-B_gLVVk5.js";import{$ as D,a as O}from"./useFocusable-CxK_f5uy.js";import{$ as I}from"./useFormReset-B7tW5NYw.js";import{$ as L}from"./useControlledState-CJ9inb8E.js";function k(e,a){if(e!=null){if(C(e)){e(a);return}try{e.current=a}catch{throw new Error(`Cannot assign value '${a}' to ref '${e}'`)}}}function q(...e){return a=>{e.forEach(l=>k(l,a))}}function z(e,a,l){let{isDisabled:i=!1,isReadOnly:s=!1,value:r,name:d,children:b,"aria-label":u,"aria-labelledby":$,validationState:o="valid",isInvalid:c}=e,p=t=>{t.stopPropagation(),a.setSelected(t.target.checked)},m=b!=null,g=u!=null||$!=null;!m&&!g&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:P,isPressed:S}=f({isDisabled:i}),{pressProps:h,isPressed:y}=f({isDisabled:i||s,onPress(){a.toggle()}}),{focusableProps:v}=D(e,l),x=n(P,v),R=O(e,{labelable:!0});return I(l,a.isSelected,a.setSelected),{labelProps:n(h,{onClick:t=>t.preventDefault()}),inputProps:n(R,{"aria-invalid":c||o==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":s||void 0,onChange:p,disabled:i,...r==null?{}:{value:r},name:d,type:"checkbox",...x}),isSelected:a.isSelected,isPressed:S||y,isDisabled:i,isReadOnly:s,isInvalid:c||o==="invalid"}}function B(e={}){let{isReadOnly:a}=e,[l,i]=L(e.isSelected,e.defaultSelected||!1,e.onChange);function s(d){a||i(d)}function r(){a||i(!l)}return{isSelected:l,setSelected:s,toggle:r}}export{z as $,B as a,q as m};
